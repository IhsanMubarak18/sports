{% extends "accounts/dashboards/base_dashboard.html" %}

{% block page_title %}Add Students to Events{% endblock %}
{% block page_subtitle %}Individual event registrations{% endblock %}

{% block content %}
<div class="glass-card">

<table class="table">
    <thead>
        <tr>
            <th>Meet</th>
            <th>Event</th>
            <th>Type</th>
            <th>Allowed Gender</th>
            <th>Action</th>
        </tr>
    </thead>

    <tbody>
        {% for me in meet_events %}

            {# ===== BOYS ROW ===== #}
            {% if me.gender_boys %}
            <tr>
                <td>{{ me.meet.name }}</td>
                <td>{{ me.event.name }}</td>
                <td>{{ me.event.event_type }}</td>
                <td>
                    <span style="color:#3b82f6; font-weight:600;">
                        ðŸ”µ Boys
                    </span>
                </td>
                <td>
                    {% if me.event.event_type == "INDIVIDUAL" %}
                        <a href="{% url 'accounts:add_student_to_event' me.id %}?gender=boys"
                        class="btn-action btn-outline">
                            âž• Add Students
                        </a>
                    {% else %}
                        <span style="color:var(--text-secondary);">
                            Team Event
                        </span>
                    {% endif %}
                </td>
            </tr>
            {% endif %}

            {# ===== GIRLS ROW ===== #}
            {% if me.gender_girls %}
            <tr>
                <td>{{ me.meet.name }}</td>
                <td>{{ me.event.name }}</td>
                <td>{{ me.event.event_type }}</td>
                <td>
                    <span style="color:#ec4899; font-weight:600;">
                        ðŸŒ¸ Girls
                    </span>
                </td>
                <td>
                    {% if me.event.event_type == "INDIVIDUAL" %}
                        <a href="{% url 'accounts:add_student_to_event' me.id %}?gender=girls"
                        class="btn-action btn-outline">
                            âž• Add Students
                        </a>
                    {% else %}
                        <span style="color:var(--text-secondary);">
                            Team Event
                        </span>
                    {% endif %}
                </td>
            </tr>
            {% endif %}

        {% empty %}
            <tr>
                <td colspan="5" style="text-align:center;">
                    No events assigned
                </td>
            </tr>
        {% endfor %}
        </tbody>

</table>

</div>
{% endblock %}
